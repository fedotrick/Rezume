# Файловый манифест курса Week 1: SQL Server Basics

## Список всех файлов проекта

### 📚 Основные документы в корне директории
```
week1-sqlserver-basics/
├── README.md (20 KB)
│   └── Главное введение, структура курса, быстрый старт
├── BEST_PRACTICES_AND_RECOMMENDATIONS.md (60 KB)
│   └── Best practices, рекомендации, контрольные списки, шпаргалки
├── FILE_MANIFEST.md (этот файл)
│   └── Описание всех файлов в проекте
└── [подпапки - см. ниже]
```

### 🎓 Лекции (lectures/)
```
lectures/
├── Lecture1_Architecture_and_Locks.md (100+ KB)
│   ├── Основные компоненты SQL Server
│   ├── Типы блокировок (S, X, I, U)
│   ├── Уровни блокирования (RID, KEY, PAGE, EXTENT, TABLE, DATABASE)
│   ├── Эскалация блокировок
│   ├── Deadlock: определение, примеры, предотвращение
│   ├── Реальные примеры банковских систем
│   └── 9 подробных примеров кода
│
├── Lecture2_Transactions_and_Isolation_Levels.md (80+ KB)
│   ├── ACID принципы (Atomicity, Consistency, Isolation, Durability)
│   ├── Четыре уровня изоляции:
│   │   ├── READ UNCOMMITTED (Dirty Reads)
│   │   ├── READ COMMITTED (Non-Repeatable Reads)
│   │   ├── REPEATABLE READ (Phantom Reads)
│   │   └── SERIALIZABLE (No Anomalies)
│   ├── Матрица проблем изоляции
│   ├── Примеры для каждого уровня
│   ├── Рекомендации по выбору
│   └── 15+ подробных примеров кода
│
└── Lecture3_Indexes_in_SQL_Server.md (100+ KB)
    ├── Типы индексов:
    │   ├── Clustered Index
    │   ├── Non-Clustered Index
    │   ├── Covering Index (INCLUDE)
    │   ├── Full-Text Index
    │   └── Columnstore Index
    ├── Когда использовать какой индекс (матрица)
    ├── Анализ планов запросов
    ├── Примеры оптимизации медленных запросов
    ├── Инструменты для анализа
    └── 20+ примеров оптимизации
```

### 💼 Практические задачи (practical-tasks/)
```
practical-tasks/
├── Task1_Creating_and_Using_Indexes.md (80+ KB)
│   ├── Часть 1: Создание таблицы со 100,000 строк
│   ├── Часть 2: Создание различных типов индексов
│   ├── Часть 3: Тестирование производительности
│   ├── Часть 4: Полный скрипт для сравнения
│   ├── Часть 5: Анализ результатов
│   ├── Таблица сравнения: до/после оптимизации
│   └── Результаты: 5-30x ускорение
│
├── Task2_Working_with_Transactions.md (70+ KB)
│   ├── Часть 1: Создание тестовой таблицы Accounts
│   ├── Часть 2: Базовые транзакции
│   │   ├── BEGIN TRANSACTION
│   │   ├── COMMIT
│   │   └── ROLLBACK
│   ├── Часть 3: Обработка ошибок (TRY-CATCH)
│   │   ├── Базовый TRY-CATCH
│   │   ├── Вложенные TRY-CATCH
│   │   └── THROW vs RAISERROR
│   ├── Часть 4: Сложные сценарии
│   │   ├── Процедура перевода денег
│   │   ├── Батч-обновление
│   │   └── Обработка deadlock
│   ├── Часть 5: Продвинутые техники
│   │   ├── XACT_STATE()
│   │   ├── Повторная попытка при deadlock
│   │   └── Асинхронное логирование ошибок
│   └── 25+ подробных примеров
│
├── Task3_Deadlock_Demonstration.md (90+ KB)
│   ├── Часть 1: Подготовка окружения
│   ├── Часть 2: Создание Deadlock сценария
│   │   ├── Классический циклический deadlock
│   │   └── Инструкции для выполнения в двух окнах
│   ├── Часть 3: Обнаружение Deadlock
│   │   ├── Сообщение об ошибке (Error 1205)
│   │   ├── Логирование Deadlock (DBCC TRACEON)
│   │   ├── Extended Events
│   │   ├── Просмотр активных блокировок
│   │   └── Deadlock Graph в SSMS
│   ├── Часть 4: Способы избежать Deadlock
│   │   ├── Упорядочение доступа к ресурсам
│   │   ├── UPDLOCK и READPAST
│   │   ├── SERIALIZABLE (осторожно)
│   │   ├── Минимизация времени транзакции
│   │   └── Обработка с повторной попыткой
│   ├── Часть 5: Тестирование решений
│   └── 30+ примеров кода
│
├── Task4_Query_Plan_Analysis.md (85+ KB)
│   ├── Часть 1: Создание тестовой таблицы (100k строк)
│   ├── Часть 2: Медленные запросы (проблемные примеры)
│   │   ├── Table Scan вместо Index Seek
│   │   ├── JOIN без индексов на FK
│   │   └── Функции в подзапросах
│   ├── Часть 3: Анализ плана запроса в SSMS
│   │   ├── Включение Execution Plan
│   │   └── Интерпретация плана
│   ├── Часть 4: Оптимизация с индексами
│   │   ├── Оптимизация запроса 1 (5-12x)
│   │   ├── Оптимизация запроса 2 (40x)
│   │   └── Оптимизация запроса 3 (20x)
│   ├── Часть 5: Полный процесс оптимизации
│   ├── Часть 6: Примеры реальных оптимизаций
│   │   ├── Медленный отчет
│   │   └── Дорогой JOIN
│   └── Результаты: 5-40x ускорение
│
└── Task5_Isolation_Levels.md (80+ KB)
    ├── Часть 1: Подготовка
    ├── Часть 2: READ UNCOMMITTED
    │   ├── Демонстрация Dirty Read
    │   ├── Когда использовать
    │   └── Примеры
    ├── Часть 3: READ COMMITTED
    │   ├── Демонстрация Non-Repeatable Read
    │   ├── Когда использовать
    │   └── Примеры
    ├── Часть 4: REPEATABLE READ
    │   ├── Демонстрация Phantom Read
    │   ├── Когда использовать
    │   └── Примеры
    ├── Часть 5: SERIALIZABLE
    │   ├── Демонстрация отсутствия Phantom Read
    │   ├── Когда использовать (редко!)
    │   └── Примеры
    ├── Часть 6: Практические примеры
    ├── Часть 7: Таблица сравнения
    ├── Часть 8: Рекомендации по выбору
    └── 25+ примеров кода
```

### 🔧 SQL Скрипты (scripts/)
```
scripts/
├── setup_database.sql (50 KB)
│   ├── 1. Создание базы данных SQLTraining
│   ├── 2. Создание таблиц:
│   │   ├── Accounts (счета)
│   │   ├── Orders (заказы)
│   │   ├── Products (товары)
│   │   ├── ErrorLog (логирование ошибок)
│   │   └── TransactionLog (логирование транзакций)
│   ├── 3. Вставка тестовых данных
│   ├── 4. Создание индексов
│   └── 5. Вывод статистики
│
└── optimization_examples.sql (50+ KB)
    ├── 1. Примеры оптимизации блокировок
    │   └── sp_SafeMoneyTransfer - безопасный перевод денег с обработкой deadlock
    ├── 2. Примеры оптимизации транзакций
    │   ├── sp_BatchUpdateStatus - батч-обновление для больших таблиц
    │   └── sp_OrderWithErrorLog - обработка ошибок с логированием
    ├── 3. Примеры оптимизации индексов
    │   ├── sp_FindOrdersByCustomer - поиск с использованием индексов
    │   └── sp_GetActiveOrdersSummary - использование покрывающего индекса
    ├── 4. Примеры уровней изоляции
    │   ├── sp_QuickOrderCount - READ UNCOMMITTED для отчетов
    │   └── sp_ProcessOrder - READ COMMITTED для критичных операций
    ├── 5. Примеры мониторинга
    │   ├── sp_ShowExecutionPlan - просмотр планов выполнения
    │   ├── sp_IndexStatistics - статистика использования индексов
    │   └── sp_IndexFragmentation - информация о фрагментации
    └── Всего 10 хранимых процедур
```

### 📁 Пустые директории (для студентов)
```
solutions/
└── (место для решений студентов)
```

---

## Статистика курса

### По количеству файлов
- **Всего файлов**: 12
- **Markdown файлы**: 9 (лекции и задачи)
- **SQL скрипты**: 2
- **Другое**: 1 (.gitignore)

### По размеру содержимого
- **Лекции**: 280+ KB (3 файла)
- **Практические задачи**: 250+ KB (5 файлов)
- **Best practices**: 60+ KB (1 файл)
- **README**: 20+ KB (1 файл)
- **SQL скрипты**: 100+ KB (2 файла)
- **Манифест**: этот файл
- **Итого**: ~710+ KB учебного материала

### По количеству примеров кода
- **В лекциях**: 45+ примеров SQL кода
- **В задачах**: 60+ практических примеров
- **В скриптах**: 10+ готовых хранимых процедур
- **Итого**: 115+ примеров кода

---

## Как использовать этот манифест

1. **Быстро найти нужный файл**: используйте структуру выше
2. **Понять содержание каждого файла**: читайте описания
3. **Выбрать материал для изучения**: начните с README.md
4. **Выполнить практические задачи**: в порядке от Task1 к Task5
5. **Обратиться к best practices**: когда нужна помощь

---

## Рекомендуемый порядок изучения

1. **Начните здесь**: `README.md`
2. **Основная теория**: 
   - `lectures/Lecture1_Architecture_and_Locks.md`
   - `lectures/Lecture2_Transactions_and_Isolation_Levels.md`
   - `lectures/Lecture3_Indexes_in_SQL_Server.md`
3. **Практика по порядку**:
   - `practical-tasks/Task1_Creating_and_Using_Indexes.md`
   - `practical-tasks/Task2_Working_with_Transactions.md`
   - `practical-tasks/Task3_Deadlock_Demonstration.md`
   - `practical-tasks/Task4_Query_Plan_Analysis.md`
   - `practical-tasks/Task5_Isolation_Levels.md`
4. **Best practices при необходимости**: `BEST_PRACTICES_AND_RECOMMENDATIONS.md`
5. **SQL скрипты**: запустить `scripts/setup_database.sql` и `scripts/optimization_examples.sql`

---

## Общая информация

**Курс**: SQL Server Basics and Transactions (Неделя 1)
**Язык материала**: Русский (Русскоязычные примеры с английским SQL)
**Целевая аудитория**: Начинающие разработчики и DBA
**Требуемый уровень**: Базовое знание SQL (SELECT, INSERT, UPDATE, DELETE)
**Примерное время**: 4-8 часов в зависимости от глубины изучения

---

**Файл создан**: Декабрь 2024
**Версия курса**: 1.0
